<?php
$data = [
    [
        'name' => 'MAYFAIR',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo8.jpg'
    ],
    [
        'name' => 'ROHAN LIFESCAPES',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/rohan-builder.jpg'
    ],
    [
        'name' => 'DLH',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo6-1.jpg'
    ],
    [
        'name' => 'MESACON GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/MESACON-GROUP.jpg'
    ],
    [
        'name' => 'BHARAT INFRA',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo1-1.jpg'
    ],
    [
        'name' => 'JPV REALTORS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo4-1.jpg'
    ],
    [
        'name' => 'KALPATARU',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo5-1.jpg'
    ],
    [
        'name' => 'MANGAL BUILD HOMES',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo15.jpg'
    ],
    [
        'name' => 'SHETH CREATORS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo10.jpg'
    ],
    [
        'name' => 'SWAROOP DEVELOPERS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/SWAROOP-DEVELOPERS.jpg'
    ],
    [
        'name' => 'ANKUR GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo7.jpg'
    ],
    [
        'name' => 'SHREE BALAJI GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/SHREE-BALAJI-GROUP.jpg'
    ],
    [
        'name' => 'TANVI CONSTRUCTION',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo11.jpg'
    ],
    [
        'name' => 'RAJYOG ENTERPRISES',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo17.jpg'
    ],
    [
        'name' => 'ATUL PROJECTS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/ATUL.jpg'
    ],
    [
        'name' => 'GREENFEILD DEVELOPERS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo3-1.jpg'
    ],
    [
        'name' => 'RUCHIT REALTY',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo14.jpg'
    ],
    [
        'name' => 'FORTUNE BUILDERS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo2-1.jpg'
    ],
    [
        'name' => 'VARDHAMAN GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo13.jpg'
    ],
    [
        'name' => 'PRIME TERRA',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/logo16.jpg'
    ],
    [
        'name' => 'VERA DEVELOPERS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/VEERA.jpg'
    ],
    [
        'name' => 'KONARK BUILDERS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/KONARK.jpg'
    ],
    [
        'name' => 'SAPTARSHI GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/SAPTARSHI.jpg'
    ],
    [
        'name' => 'JET REALTY',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/JET-REALTY.jpg'
    ],
    [
        'name' => 'GURUKRUPA GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/GURUKRUPA.jpg'
    ],
    [
        'name' => 'SADGURU BROTHERS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/SAGURU.jpg'
    ],
    [
        'name' => 'OYSTER LIVING',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/OYSTER-LIVING.jpg'
    ],
    [
        'name' => 'AGM GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/AGM.jpg'
    ],
    [
        'name' => 'BHATIYA GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/BHATIYA-GROUP.jpg'
    ],
    [
        'name' => 'NISAR GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/NISAAR-GROUP.jpg'
    ],
    [
        'name' => 'KSB GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/KS-B-GROUP.jpg'
    ],
    [
        'name' => 'MISHAL CONSTRUCTION',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/MISHAL.jpg'
    ],
    [
        'name' => 'ASHRAY REALTORS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/ASHRAY.jpg'
    ],
    [
        'name' => 'KL GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/KLGROUP.jpg'
    ],
    [
        'name' => 'PATEL GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/PATEL-GROUP.jpg'
    ],
    [
        'name' => 'SUNVISION',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/SUN-VISION.jpg'
    ],
    [
        'name' => 'NIRAJ KAKAD',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/NIRAJ-KAKAD.jpg'
    ],
    [
        'name' => 'KAMLA LANDMARC GROUP',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/KAMLA-LANDMARK.jpg'
    ],
    [
        'name' => 'ROYAL REALTORS',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/ROYAL-REALTORS.jpg'
    ],
    [
        'name' => 'KCD',
        'img' => 'https://horizonarchitects.co.in/wp-content/uploads/2022/03/KSD.jpg'
    ]
];

$zip = new ZipArchive();
$zipFile = "company_logos.zip";

if ($zip->open($zipFile, ZipArchive::CREATE) !== TRUE) {
    exit("Unable to create ZIP file");
}

foreach ($data as $entry) {
    $url = $entry['img'];
    $filename = basename(parse_url($url, PHP_URL_PATH));

    $imageData = @file_get_contents($url);
    if ($imageData !== false) {
        $zip->addFromString($filename, $imageData);
    }
}

$zip->close();

header("Content-Type: application/zip");
header("Content-Disposition: attachment; filename=\"$zipFile\"");
header("Content-Length: " . filesize($zipFile));
readfile($zipFile);
unlink($zipFile);
?>
